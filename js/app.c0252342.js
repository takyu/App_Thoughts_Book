(function(){"use strict";var e={9569:function(e,o,t){var n=t(9242),l=t(3396),a=t(7718),r=t(3369),s=t(9271);function i(e,o,t,n,i,u){const c=(0,l.up)("Header"),d=(0,l.up)("router-view"),m=(0,l.up)("Footer");return(0,l.wg)(),(0,l.j4)(a.q,null,{default:(0,l.w5)((()=>[(0,l.Wm)(c),(0,l.Wm)(s.O,null,{default:(0,l.w5)((()=>[(0,l.Wm)(r.K,null,{default:(0,l.w5)((()=>[(0,l.Wm)(d,{books:i.books,onAddBookList:u.addBook,onUpdateBookInfo:u.updateBookInfo,onDeleteLocalStorage:u.deleteLocalStorage},null,8,["books","onAddBookList","onUpdateBookInfo","onDeleteLocalStorage"])])),_:1})])),_:1}),(0,l.Wm)(m)])),_:1})}t(2262),t(4506);var u=t(1026),c=t(1556),d=t(9234);const m=(0,l.Uk)("読んだ本の一覧");function f(e,o,t,n,a,r){return(0,l.wg)(),(0,l.iD)("div",null,[(0,l.Wm)(u.L,{app:"",color:"success",dark:""},{default:(0,l.w5)((()=>[(0,l.Wm)(c.o,null,{default:(0,l.w5)((()=>[m])),_:1}),(0,l.Wm)(d.C)])),_:1})])}var h={name:"HeaderPart"},k=t(89);const p=(0,k.Z)(h,[["render",f]]);var w=p,g=t(7139),v=t(1666),_=t(6824),b=t(8521);const y=(0,l._)("strong",null,"© Google Book API",-1);function W(e,o,t,n,a,r){return(0,l.wg)(),(0,l.j4)(v.c,{class:"bg-grey-lighten-1 py-3"},{default:(0,l.w5)((()=>[(0,l.Wm)(_.o,{justify:"center","no-gutters":""},{default:(0,l.w5)((()=>[(0,l.Wm)(b.D,{class:"text-center text-white",cols:"12"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,g.zw)((new Date).getFullYear())+" — ",1),y])),_:1})])),_:1})])),_:1})}var B={data(){return{}}};const D=(0,k.Z)(B,[["render",W]]);var S=D;const O="books";var U={name:"App",components:{Header:w,Footer:S},data(){return{books:[],newBook:""}},mounted(){if(localStorage.getItem(O))try{this.books=JSON.parse(localStorage.getItem(O))}catch(e){localStorage.removeItem(O),console.error(e)}},methods:{addBook(e){this.books.push({id:this.books.length,title:e.title,image:e.image,description:e.description,readDate:"",memo:""}),this.saveBooks(),this.goToEditPage(this.books.at(-1).id)},removeBook(e){this.books.splice(e,1),this.saveBooks()},saveBooks(){localStorage.setItem(O,JSON.stringify(this.books))},updateBookInfo(e){const o={id:e.id,readDate:String(e.readDate),memo:e.memo,title:this.books[e.id].title,image:this.books[e.id].image,description:this.books[e.id].description};this.books.splice(e.id,1,o),this.saveBooks(),this.$router.push("/")},goToEditPage(e){this.$router.push(`/edit/${e}`)},deleteLocalStorage(){const e="本一覧を削除しますか？";window.confirm(e)&&(localStorage.setItem(O,""),localStorage.removeItem(O),this.books=[],window.location.reload())}}};const j=(0,k.Z)(U,[["render",i]]);var T=j,I=t(678),C=t(7423),L=t(7),P=t(6572),R=t(1334),x=t(3289),E=t(8694);const V=(0,l.Uk)("本を検索する"),z=(0,l.Uk)("本一覧を削除する"),A={class:"ms-4"},$=(0,l._)("span",null,"読んだ日：",-1),Z={class:"ms-4"},F=(0,l._)("span",null,"感想：",-1),N=(0,l.Uk)("mdi-pencil");function H(e,o,t,n,a,r){return(0,l.wg)(),(0,l.iD)("div",null,[(0,l.Wm)(_.o,{class:"my-5"},{default:(0,l.w5)((()=>[(0,l.Wm)(C.T,{class:"me-5",color:"success",rounded:"pill",size:"large",to:"/search"},{default:(0,l.w5)((()=>[V])),_:1}),(0,l.Wm)(C.T,{class:"ms-5",color:"error",rounded:"pill",size:"large",onClick:r.deleteLocalStorage},{default:(0,l.w5)((()=>[z])),_:1},8,["onClick"])])),_:1}),(0,l.Wm)(_.o,{class:"my-5"},{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(t.books,(e=>((0,l.wg)(),(0,l.j4)(b.D,{cols:"12",sm:"6",key:e.id},{default:(0,l.w5)((()=>[(0,l.Wm)(L._,null,{default:(0,l.w5)((()=>[(0,l.Wm)(_.o,null,{default:(0,l.w5)((()=>[(0,l.Wm)(b.D,{cols:"4"},{default:(0,l.w5)((()=>[(0,l.Wm)(E.f,{src:e.image},null,8,["src"])])),_:2},1024),(0,l.Wm)(b.D,{col:"8"},{default:(0,l.w5)((()=>[(0,l.Wm)(P.E,{class:"mb-3"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,g.zw)(e.title),1)])),_:2},1024),(0,l._)("div",A,[$,(0,l.Uk)(" "+(0,g.zw)(r.displayDate(e.readDate)),1)]),(0,l._)("div",Z,[F,(0,l.Uk)(" "+(0,g.zw)(e.memo),1)]),(0,l.Wm)(d.C),(0,l.Wm)(R.h,{class:"mt-5"},{default:(0,l.w5)((()=>[(0,l.Wm)(C.T,{to:{name:"BookEdit",params:{id:e.id}},variant:"outlined",size:"large",icon:"",color:"info"},{default:(0,l.w5)((()=>[(0,l.Wm)(x.t,null,{default:(0,l.w5)((()=>[N])),_:1})])),_:2},1032,["to"])])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1024)))),128))])),_:1})])}var K={props:{books:Array},methods:{formatDate(e){let o=e.getFullYear(),t=("00"+(e.getMonth()+1)).slice(-2),n=("00"+e.getDate()).slice(-2);return o+"-"+t+"-"+n},displayDate(e){return this.formatDate(new Date(e))},deleteLocalStorage(){this.$emit("deleteLocalStorage")}}};const M=(0,k.Z)(K,[["render",H]]);var q=M,J=t(1888),Y=t(4075),G=t(2902),Q=t(8952);const X=(0,l.Uk)(" 検索する"),ee=(0,l.Uk)("一覧に戻る"),oe=(0,l.Uk)("mdi-format-list-bulleted-square");function te(e,o,t,a,r,s){return(0,l.wg)(),(0,l.iD)("div",null,[(0,l.Wm)(_.o,{class:"my-2"},{default:(0,l.w5)((()=>[(0,l.Wm)(b.D,{cols:"12"},{default:(0,l.w5)((()=>[(0,l.Wm)(G.h,{label:"本のタイトルを検索",modelValue:r.keyword,"onUpdate:modelValue":o[0]||(o[0]=e=>r.keyword=e)},null,8,["modelValue"])])),_:1})])),_:1}),(0,l.Wm)(_.o,{class:"mb-5"},{default:(0,l.w5)((()=>[(0,l.Wm)(C.T,{class:"me-5",rounded:"pill",color:"success",size:"large",onClick:o[1]||(o[1]=e=>s.search(r.keyword))},{default:(0,l.w5)((()=>[X])),_:1}),(0,l.Wm)(C.T,{rounded:"pill",color:"warning",size:"large",to:"/"},{default:(0,l.w5)((()=>[ee])),_:1})])),_:1}),(0,l.Wm)(_.o,{class:"my-5"},{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(r.searchResults,((e,o)=>((0,l.wg)(),(0,l.j4)(b.D,{cols:"12",md:"6",key:e.index},{default:(0,l.w5)((()=>[(0,l.Wm)(L._,{class:"mx-auto"},{default:(0,l.w5)((()=>[(0,l.Wm)(_.o,null,{default:(0,l.w5)((()=>[(0,l.Wm)(b.D,{cols:"4"},{default:(0,l.w5)((()=>[(0,l.Wm)(E.f,{src:e.image},null,8,["src"])])),_:2},1024),(0,l.Wm)(b.D,{cols:"8"},{default:(0,l.w5)((()=>[(0,l.Wm)(P.E,null,{default:(0,l.w5)((()=>[(0,l.Uk)((0,g.zw)(e.title),1)])),_:2},1024),(0,l.Wm)(R.h,null,{default:(0,l.w5)((()=>[(0,l.Wm)(C.T,{variant:"outlined",icon:"",color:"secondary",onClick:e=>s.addBookList(o)},{default:(0,l.w5)((()=>[(0,l.Wm)(x.t,null,{default:(0,l.w5)((()=>[oe])),_:1})])),_:2},1032,["onClick"]),(0,l.Wm)(C.T,{icon:e.isShow?"mdi-chevron-up":"mdi-chevron-down",onClick:o=>e.isShow=!e.isShow},null,8,["icon","onClick"])])),_:2},1024),(0,l.Wm)(Q.Fx,null,{default:(0,l.w5)((()=>[(0,l.wy)((0,l._)("div",null,[(0,l.Wm)(Y.J),(0,l.Wm)(J.Z,null,{default:(0,l.w5)((()=>[(0,l.Uk)((0,g.zw)(e.description),1)])),_:2},1024)],512),[[n.F8,e.isShow]])])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1024)))),128))])),_:1})])}var ne={name:"BookSearch",data(){return{keyword:"",searchResults:[]}},methods:{async search(e){this.searchResults=[];const o="https://www.googleapis.com/books/v1/volumes?",t={q:`intitle:${e}`,maxResults:40},n=new URLSearchParams(t),l=await fetch(o+n).then((e=>e.json()));if(l.items)for(let a of l.items){let e=a.volumeInfo.title,o=a.volumeInfo.imageLinks,t=a.volumeInfo.description;this.searchResults.push({title:e??"",image:o?o.thumbnail:"",description:t?t.slice(0,500):"",isShow:!1})}else console.log("検索しましたが、見つかりませんでした。")},addBookList(e){this.$emit("addBookList",this.searchResults[e])}}};const le=(0,k.Z)(ne,[["render",te]]);var ae=le,re=t(4842);const se={class:"my-2 ms-2"},ie=(0,l._)("span",null,"読んだ日：",-1),ue=(0,l._)("span",{class:"ms-2"},"感想：",-1),ce=(0,l.Uk)("一覧に戻る"),de=(0,l.Uk)("保存する");function me(e,o,t,n,a,r){const s=(0,l.up)("datepicker");return(0,l.wg)(),(0,l.iD)("div",null,[(0,l.Wm)(_.o,null,{default:(0,l.w5)((()=>[(0,l.Wm)(b.D,{cols:"12"},{default:(0,l.w5)((()=>[(0,l.Wm)(L._,{class:"mx-auto"},{default:(0,l.w5)((()=>[(0,l.Wm)(_.o,null,{default:(0,l.w5)((()=>[(0,l.Wm)(b.D,{cols:"4"},{default:(0,l.w5)((()=>[(0,l.Wm)(E.f,{src:a.book.image},null,8,["src"])])),_:1}),(0,l.Wm)(b.D,{cols:"8"},{default:(0,l.w5)((()=>[(0,l.Wm)(P.E,{class:"ps-2 underline"},{default:(0,l.w5)((()=>[(0,l.Uk)(" タイトル："+(0,g.zw)(a.book.title),1)])),_:1}),(0,l._)("div",se,[ie,(0,l.Wm)(s,{modelValue:a.date,"onUpdate:modelValue":o[0]||(o[0]=e=>a.date=e)},null,8,["modelValue"])]),(0,l._)("div",null,[ue,(0,l.Wm)(re.z,{class:"mx-2",filled:"","auto-grow":"",label:"感想欄",rows:"4","row-height":"30",shaped:"",modelValue:a.book.memo,"onUpdate:modelValue":o[1]||(o[1]=e=>a.book.memo=e)},null,8,["modelValue"])]),(0,l.Wm)(R.h,null,{default:(0,l.w5)((()=>[(0,l.Wm)(C.T,{color:"success",to:"/"},{default:(0,l.w5)((()=>[ce])),_:1}),(0,l.Wm)(C.T,{color:"info",onClick:r.updateBookInfo},{default:(0,l.w5)((()=>[de])),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])}var fe=t(9891),he=t(4870),ke={name:"BookEdit",components:{Datepicker:fe.Z},props:{books:Array},data(){return{book:"",date:this.setReadDate()}},methods:{updateBookInfo(){this.$emit("updateBookInfo",{id:this.$route.params.id,readDate:this.date,memo:this.book.memo})},setReadDate(){const e=this.books[this.$route.params.id].readDate;return e?new Date(e):(0,he.iH)(new Date)}},beforeRouteEnter(e,o,t){t((e=>{e.$nextTick((()=>{e.book=e.books[e.$route.params.id]}))}))}};const pe=(0,k.Z)(ke,[["render",me]]);var we=pe;const ge=(0,l._)("h2",null,"本を検索",-1),ve={class:"my-5"},_e=(0,l._)("br",null,null,-1),be=(0,l.Uk)(" 検索する ");function ye(e,o,t,n,a,s){return(0,l.wg)(),(0,l.j4)(r.K,null,{default:(0,l.w5)((()=>[ge,(0,l._)("div",ve,[(0,l.Wm)(G.h,{label:"keyword",placeholder:"Placeholder",modelValue:a.keyword,"onUpdate:modelValue":o[0]||(o[0]=e=>a.keyword=e)},null,8,["modelValue"]),_e,(0,l.Wm)(C.T,{rounded:0,color:"primary",onClick:o[1]||(o[1]=e=>s.search(a.keyword))},{default:(0,l.w5)((()=>[be])),_:1})])])),_:1})}var We={data(){return{keyword:"",searchResults:[]}},methods:{async search(e){this.searchResults=[];const o="https://www.googleapis.com/books/v1/volumes?",t={q:`intitle:${e}`,maxResults:40},n=new URLSearchParams(t),l=await fetch(o+n).then((e=>e.json()));if(console.log(l),l.items)for(let a of l.items){let e=a.volumeInfo.title,o=a.volumeInfo.imageLinks,t=a.volumeInfo.description;this.searchResults.push({title:e??"",image:o?o.thumbnail:"",description:t?t.slice(0,40):""})}else console.log("検索しましたが、見つかりませんでした。")}}};const Be=(0,k.Z)(We,[["render",ye]]);var De=Be;const Se=(0,l._)("h2",null,"Books",-1),Oe={class:"me-5"},Ue=(0,l.Uk)("Remove"),je={class:"my-5"},Te=(0,l.Uk)(" Add Book ");function Ie(e,o,t,n,a,s){return(0,l.wg)(),(0,l.j4)(r.K,null,{default:(0,l.w5)((()=>[Se,((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(a.books,((e,o)=>((0,l.wg)(),(0,l.iD)("div",{key:o,class:"my-5"},[(0,l._)("div",null,[(0,l._)("span",Oe,(0,g.zw)(e),1),(0,l.Wm)(C.T,{onClick:e=>s.removeBook(o),rounded:"lg",color:"error"},{default:(0,l.w5)((()=>[Ue])),_:2},1032,["onClick"])])])))),128)),(0,l._)("div",je,[(0,l.Wm)(G.h,{label:"bookname",placeholder:"Placeholder",modelValue:a.newBook,"onUpdate:modelValue":o[0]||(o[0]=e=>a.newBook=e)},null,8,["modelValue"]),(0,l.Wm)(C.T,{onClick:s.addBook,rounded:"lg",color:"primary"},{default:(0,l.w5)((()=>[Te])),_:1},8,["onClick"])])])),_:1})}const Ce="books";var Le={data(){return{books:[],newBook:""}},mounted(){if(localStorage.getItem(Ce))try{this.books=JSON.parse(localStorage.getItem(Ce))}catch(e){localStorage.removeItem(Ce),console.error(e)}},methods:{addBook(){this.newBook&&(this.books.push(this.newBook),this.newBook="",this.saveBooks())},removeBook(e){this.books.splice(e,1),this.saveBooks()},saveBooks(){localStorage.setItem(Ce,JSON.stringify(this.books))}}};const Pe=(0,k.Z)(Le,[["render",Ie]]);var Re=Pe;const xe=[{path:"/",name:"BookIndex",component:q},{path:"/search",name:"BookSearch",component:ae},{path:"/edit/:id",name:"BookEdit",component:we},{path:"/apitest",name:"ApiTest",component:De},{path:"/localstoragetest",name:"LocalStorageTest",component:Re},{path:"/:pathMatch(.*)*",redirect:"/"}],Ee=(0,I.p7)({history:(0,I.PO)("/App_Thoughts_Book/"),routes:xe});var Ve=Ee,ze=(t(9773),t(4402)),Ae=(0,ze.Rd)();async function $e(){const e=await t.e(461).then(t.t.bind(t,3657,23));e.load({google:{families:["Roboto:100,300,400,500,700,900&display=swap"]}})}$e(),(0,n.ri)(T).use(Ve).use(Ae).mount("#app")}},o={};function t(n){var l=o[n];if(void 0!==l)return l.exports;var a=o[n]={exports:{}};return e[n](a,a.exports,t),a.exports}t.m=e,function(){var e=[];t.O=function(o,n,l,a){if(!n){var r=1/0;for(c=0;c<e.length;c++){n=e[c][0],l=e[c][1],a=e[c][2];for(var s=!0,i=0;i<n.length;i++)(!1&a||r>=a)&&Object.keys(t.O).every((function(e){return t.O[e](n[i])}))?n.splice(i--,1):(s=!1,a<r&&(r=a));if(s){e.splice(c--,1);var u=l();void 0!==u&&(o=u)}}return o}a=a||0;for(var c=e.length;c>0&&e[c-1][2]>a;c--)e[c]=e[c-1];e[c]=[n,l,a]}}(),function(){t.n=function(e){var o=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(o,{a:o}),o}}(),function(){var e,o=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};t.t=function(n,l){if(1&l&&(n=this(n)),8&l)return n;if("object"===typeof n&&n){if(4&l&&n.__esModule)return n;if(16&l&&"function"===typeof n.then)return n}var a=Object.create(null);t.r(a);var r={};e=e||[null,o({}),o([]),o(o)];for(var s=2&l&&n;"object"==typeof s&&!~e.indexOf(s);s=o(s))Object.getOwnPropertyNames(s).forEach((function(e){r[e]=function(){return n[e]}}));return r["default"]=function(){return n},t.d(a,r),a}}(),function(){t.d=function(e,o){for(var n in o)t.o(o,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:o[n]})}}(),function(){t.f={},t.e=function(e){return Promise.all(Object.keys(t.f).reduce((function(o,n){return t.f[n](e,o),o}),[]))}}(),function(){t.u=function(e){return"js/webfontloader.87689e58.js"}}(),function(){t.miniCssF=function(e){}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){t.o=function(e,o){return Object.prototype.hasOwnProperty.call(e,o)}}(),function(){var e={},o="app_thoughts_book:";t.l=function(n,l,a,r){if(e[n])e[n].push(l);else{var s,i;if(void 0!==a)for(var u=document.getElementsByTagName("script"),c=0;c<u.length;c++){var d=u[c];if(d.getAttribute("src")==n||d.getAttribute("data-webpack")==o+a){s=d;break}}s||(i=!0,s=document.createElement("script"),s.charset="utf-8",s.timeout=120,t.nc&&s.setAttribute("nonce",t.nc),s.setAttribute("data-webpack",o+a),s.src=n),e[n]=[l];var m=function(o,t){s.onerror=s.onload=null,clearTimeout(f);var l=e[n];if(delete e[n],s.parentNode&&s.parentNode.removeChild(s),l&&l.forEach((function(e){return e(t)})),o)return o(t)},f=setTimeout(m.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=m.bind(null,s.onerror),s.onload=m.bind(null,s.onload),i&&document.head.appendChild(s)}}}(),function(){t.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){t.p="/App_Thoughts_Book/"}(),function(){var e={143:0};t.f.j=function(o,n){var l=t.o(e,o)?e[o]:void 0;if(0!==l)if(l)n.push(l[2]);else{var a=new Promise((function(t,n){l=e[o]=[t,n]}));n.push(l[2]=a);var r=t.p+t.u(o),s=new Error,i=function(n){if(t.o(e,o)&&(l=e[o],0!==l&&(e[o]=void 0),l)){var a=n&&("load"===n.type?"missing":n.type),r=n&&n.target&&n.target.src;s.message="Loading chunk "+o+" failed.\n("+a+": "+r+")",s.name="ChunkLoadError",s.type=a,s.request=r,l[1](s)}};t.l(r,i,"chunk-"+o,o)}},t.O.j=function(o){return 0===e[o]};var o=function(o,n){var l,a,r=n[0],s=n[1],i=n[2],u=0;if(r.some((function(o){return 0!==e[o]}))){for(l in s)t.o(s,l)&&(t.m[l]=s[l]);if(i)var c=i(t)}for(o&&o(n);u<r.length;u++)a=r[u],t.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return t.O(c)},n=self["webpackChunkapp_thoughts_book"]=self["webpackChunkapp_thoughts_book"]||[];n.forEach(o.bind(null,0)),n.push=o.bind(null,n.push.bind(n))}();var n=t.O(void 0,[998],(function(){return t(9569)}));n=t.O(n)})();
//# sourceMappingURL=app.c0252342.js.map